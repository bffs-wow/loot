"use strict";(self.webpackChunksynergy_loot=self.webpackChunksynergy_loot||[]).push([[225],{6225:(K,d,i)=>{i.r(d),i.d(d,{ZoneModule:()=>X});var u=i(6895),r=i(1791),m=i(801),A=i(8975),T=i(591),S=i(6053),a=i(4850),f=i(2198),y=i(2994),v=i(7545),C=i(7224),n=i(5062),U=i(842),L=i(3120),I=i(9889),h=i(3868),P=i(6557),z=i(3457);function $(e,s){if(1&e){const o=n.EpF();n.TgZ(0,"span",17),n.NdJ("click",function(){const g=n.CHM(o).$implicit,p=n.oxw(4);return n.KtG(p.sourceChosen(g))}),n.TgZ(1,"a"),n._uU(2),n.qZA()()}if(2&e){const o=s.$implicit,t=n.oxw().ngIf;n.ekj("is-primary",t===o),n.xp6(2),n.Oqu(o)}}function F(e,s){if(1&e&&(n.TgZ(0,"div",15),n.YNc(1,$,3,3,"span",16),n.ALo(2,"async"),n.qZA()),2&e){const o=n.oxw(3);n.xp6(1),n.Q6J("ngForOf",n.lcZ(2,1,o.zoneItemSources$))}}function J(e,s){if(1&e&&(n.TgZ(0,"div",12),n.YNc(1,F,3,3,"div",14),n.ALo(2,"async"),n.qZA()),2&e){const o=n.oxw(2);n.xp6(1),n.Q6J("ngIf",n.lcZ(2,1,o.chosenSource$))}}function N(e,s){if(1&e&&(n.TgZ(0,"small",27)(1,"abbr",28),n._UZ(2,"fa-icon",7),n._uU(3," Unlisted "),n.qZA()()),2&e){const o=n.oxw(5);n.xp6(2),n.Q6J("icon",o.faExclamationTriangle)}}const O=function(e){return["/raider",e]};function Q(e,s){if(1&e&&(n.TgZ(0,"span",29)(1,"a",30),n._uU(2),n.qZA(),n._uU(3," \xa0 "),n.qZA()),2&e){const o=s.$implicit;n.xp6(1),n.Q6J("routerLink",n.VKq(2,O,o.raider.name)),n.xp6(1),n.hij(" ",o.raider.name," ")}}function Y(e,s){if(1&e&&(n.ynx(0),n._uU(1," \xa0 "),n.YNc(2,N,4,1,"small",24),n._uU(3," \xa0 "),n.TgZ(4,"div",25),n.YNc(5,Q,4,4,"span",26),n.qZA(),n.BQk()),2&e){const o=s.ngIf,t=n.oxw(4);n.xp6(2),n.Q6J("ngIf",t.noneListed(o)),n.xp6(3),n.Q6J("ngForOf",o)}}function w(e,s){1&e&&(n.TgZ(0,"small"),n._uU(1,"No Rankings."),n.qZA())}const M=function(e){return["/item",e]};function B(e,s){if(1&e&&(n.TgZ(0,"article",19)(1,"div",20)(2,"div",21)(3,"a",22),n._uU(4),n.qZA(),n._uU(5,"\xa0\xa0 "),n.YNc(6,Y,6,2,"ng-container",0),n.ALo(7,"async"),n.YNc(8,w,2,0,"ng-template",null,23,n.W1O),n.qZA()()()),2&e){const o=s.$implicit,t=n.MAs(9),l=n.oxw(3);n.xp6(3),n.Q6J("appWowheadTooltip",o)("routerLink",n.VKq(7,M,o.id)),n.xp6(1),n.Oqu(o.name),n.xp6(2),n.Q6J("ngIf",n.lcZ(7,5,l.getNextRecipient(o)))("ngIfElse",t)}}function j(e,s){if(1&e&&(n.TgZ(0,"div",12)(1,"p",5)(2,"strong"),n._uU(3),n.qZA(),n._uU(4," Loot "),n.qZA(),n.YNc(5,B,10,9,"article",18),n.ALo(6,"async"),n.qZA()),2&e){const o=s.ngIf,t=n.oxw(2);n.xp6(3),n.Oqu(o),n.xp6(2),n.Q6J("ngForOf",n.lcZ(6,2,t.getSourceLoot(o)))}}function E(e,s){if(1&e&&(n.TgZ(0,"div")(1,"section",2)(2,"div",3)(3,"div",4)(4,"h1",5)(5,"a",6),n._uU(6),n._UZ(7,"fa-icon",7),n.qZA()()()()(),n.TgZ(8,"section",8),n.YNc(9,J,3,3,"div",9),n.ALo(10,"async"),n.TgZ(11,"div",10)(12,"div",11),n.YNc(13,j,7,4,"div",9),n.ALo(14,"async"),n.qZA(),n.TgZ(15,"div",11)(16,"div",12),n._UZ(17,"app-loot-feed",13),n.ALo(18,"async"),n.qZA()()()()()),2&e){const o=s.ngIf,t=n.oxw();n.xp6(5),n.Q6J("href","https://www.wowhead.com/wotlk/zone="+o.zoneId,n.LSH)("appWowheadTooltip",o),n.xp6(1),n.hij("",o.name," "),n.xp6(1),n.Q6J("icon",t.faExternalLinkAlt),n.xp6(2),n.Q6J("ngIf",n.lcZ(10,8,t.zoneItemSources$).length>1),n.xp6(4),n.Q6J("ngIf",n.lcZ(14,10,t.chosenSource$)),n.xp6(4),n.Q6J("zone",o)("source",n.lcZ(18,12,t.chosenSource$))}}function R(e,s){1&e&&(n.TgZ(0,"h1",5),n._uU(1,"Zone not found"),n.qZA())}const W=[{path:":slug",component:(()=>{class e{constructor(o,t,l,g,p){this.router=o,this.route=t,this.itemService=l,this.zoneService=g,this.lootListFacade=p,this.faExternalLinkAlt=m.Xjp,this.faExclamationTriangle=m.eHv,this.zone$=this.route.params.pipe((0,a.U)(c=>c.slug),(0,a.U)(c=>this.zoneService.getZone(c))),this.allSource="All",this.zoneItemSources$=this.zone$.pipe((0,f.h)(c=>!!c),(0,a.U)(c=>c.itemSources.length>1?[this.allSource,...c.itemSources]:[...c.itemSources])),this._chosenSource$=new T.X(this.allSource),this.chosenSource$=(0,S.aj)([this.zoneItemSources$,this.route.queryParams]).pipe((0,y.b)(([c,x])=>{let _=this.allSource;x.boss&&(_=c.find(G=>G===x.boss)),this._chosenSource$.next(_||c[0])}),(0,v.w)(()=>this._chosenSource$.asObservable()))}ngOnInit(){}sourceChosen(o){this._chosenSource$.next(o),this.router.navigate([],{relativeTo:this.route,queryParams:{boss:o},queryParamsHandling:"merge"})}getSourceLoot(o){return this.zone$.pipe((0,v.w)(t=>this.itemService.getBySource(t,o)),(0,a.U)(t=>(0,A.Z)(t,"id")))}getNextRecipient(o){return this.lootListFacade.getRankedLootGroups(o.id).pipe((0,C.P)(),(0,a.U)(t=>t.length?t[0]:null),(0,f.h)(t=>null!==t),(0,a.U)(t=>t.rankings.length?t.rankings:null))}noneListed(o){return o&&o.every(t=>"Unlisted"===t.item.pivot.note)}}return e.\u0275fac=function(o){return new(o||e)(n.Y36(r.F0),n.Y36(r.gz),n.Y36(U.e),n.Y36(L.b),n.Y36(I.X))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-zone-page"]],decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["notFound",""],[1,"hero","is-small","is-black"],[1,"hero-body"],[1,"container"],[1,"title"],["title","Open Wowhead","target","_blank",3,"href","appWowheadTooltip"],[3,"icon"],[1,"section"],["class","box",4,"ngIf"],[1,"columns"],[1,"column"],[1,"box"],[3,"zone","source"],["class","tags",4,"ngIf"],[1,"tags"],["class","tag is-black is-medium",3,"is-primary","click",4,"ngFor","ngForOf"],[1,"tag","is-black","is-medium",3,"click"],["class","media",4,"ngFor","ngForOf"],[1,"media"],[1,"media-content"],[1,"content"],[3,"appWowheadTooltip","routerLink"],["noRankings",""],["class","is-size-6 has-text-warning",4,"ngIf"],[1,"tags","pt-1"],["class","tag is-black",4,"ngFor","ngForOf"],[1,"is-size-6","has-text-warning"],["title","All of these raiders did not list the item, but are still eligible."],[1,"tag","is-black"],[3,"routerLink"]],template:function(o,t){if(1&o&&(n.YNc(0,E,19,14,"div",0),n.ALo(1,"async"),n.YNc(2,R,2,0,"ng-template",null,1,n.W1O)),2&o){const l=n.MAs(3);n.Q6J("ngIf",n.lcZ(1,2,t.zone$))("ngIfElse",l)}},dependencies:[u.sg,u.O5,h.BN,r.yS,P.D,z.G,u.Ov],changeDetection:0}),e})()}];let k=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[r.Bz.forChild(W),r.Bz]}),e})();var q=i(6090),H=i(9941),Z=i(4719);let X=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[u.ez,Z.u5,Z.UX,h.uH,H.A0,k,q.q]}),e})()}}]);