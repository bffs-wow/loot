"use strict";(self.webpackChunksynergy_loot=self.webpackChunksynergy_loot||[]).push([[302],{7302:(Q,g,i)=>{i.r(g),i.d(g,{ZoneModule:()=>W});var d=i(177),l=i(1410),p=i(5383),_=i(9070),I=i(9928),T=i(9776),r=i(5006),u=i(8728),S=i(8841),h=i(9090),E=i(4046),n=i(4438),R=i(8706),G=i(2558),y=i(5910),f=i(60),x=i(2195),C=i(7477);const k=t=>["/item",t],j=t=>["/raider",t];function Z(t,s){if(1&t){const e=n.RV6();n.j41(0,"span",18),n.bIt("click",function(){const c=n.eBV(e).$implicit,m=n.XpG(4);return n.Njj(m.sourceChosen(c))}),n.j41(1,"a"),n.EFF(2),n.k0s()()}if(2&t){const e=s.$implicit,o=n.XpG().ngIf;n.AVh("is-primary",o===e),n.R7$(2),n.JRh(e)}}function z(t,s){if(1&t&&(n.j41(0,"div",16),n.DNE(1,Z,3,3,"span",17),n.nI1(2,"async"),n.k0s()),2&t){const e=n.XpG(3);n.R7$(),n.Y8G("ngForOf",n.bMT(2,1,e.zoneItemSources$))}}function P(t,s){if(1&t&&(n.j41(0,"div",13),n.DNE(1,z,3,3,"div",15),n.nI1(2,"async"),n.k0s()),2&t){const e=n.XpG(2);n.R7$(),n.Y8G("ngIf",n.bMT(2,1,e.chosenSource$))}}function X(t,s){if(1&t&&(n.j41(0,"small",27)(1,"abbr",28),n.nrm(2,"fa-icon",8),n.EFF(3," Unlisted "),n.k0s()()),2&t){const e=n.XpG(5);n.R7$(2),n.Y8G("icon",e.faExclamationTriangle)}}function Y(t,s){if(1&t&&(n.j41(0,"span",29)(1,"a",30),n.EFF(2),n.k0s(),n.EFF(3," \xa0 "),n.k0s()),2&t){const e=s.$implicit;n.R7$(),n.Y8G("routerLink",n.eq3(2,j,e.raider.name)),n.R7$(),n.SpI(" ",e.raider.name," ")}}function N(t,s){if(1&t&&(n.qex(0),n.EFF(1," \xa0 "),n.DNE(2,X,4,1,"small",24),n.EFF(3," \xa0 "),n.j41(4,"div",25),n.DNE(5,Y,4,4,"span",26),n.k0s(),n.bVm()),2&t){const e=s.ngIf,o=n.XpG(4);n.R7$(2),n.Y8G("ngIf",o.noneListed(e)),n.R7$(3),n.Y8G("ngForOf",e)}}function L(t,s){1&t&&(n.j41(0,"small"),n.EFF(1,"No Rankings."),n.k0s())}function M(t,s){if(1&t&&(n.j41(0,"article",20)(1,"div",21)(2,"div",22)(3,"a",23),n.EFF(4),n.k0s(),n.EFF(5,"\xa0\xa0 "),n.DNE(6,N,6,2,"ng-container",2),n.nI1(7,"async"),n.DNE(8,L,2,0,"ng-template",null,1,n.C5r),n.k0s()()()),2&t){const e=s.$implicit,o=n.sdS(9),c=n.XpG(3);n.R7$(3),n.Y8G("appWowheadTooltip",e)("routerLink",n.eq3(7,k,e.id)),n.R7$(),n.JRh(e.name),n.R7$(2),n.Y8G("ngIf",n.bMT(7,5,c.getNextRecipient(e)))("ngIfElse",o)}}function D(t,s){if(1&t&&(n.j41(0,"div",13)(1,"p",6)(2,"strong"),n.EFF(3),n.k0s(),n.EFF(4," Loot "),n.k0s(),n.DNE(5,M,10,9,"article",19),n.nI1(6,"async"),n.k0s()),2&t){const e=s.ngIf,o=n.XpG(2);n.R7$(3),n.JRh(e),n.R7$(2),n.Y8G("ngForOf",n.bMT(6,2,o.getSourceLoot(e)))}}function b(t,s){if(1&t&&(n.j41(0,"div")(1,"section",3)(2,"div",4)(3,"div",5)(4,"h1",6)(5,"a",7),n.EFF(6),n.nrm(7,"fa-icon",8),n.k0s()()()()(),n.j41(8,"section",9),n.DNE(9,P,3,3,"div",10),n.nI1(10,"async"),n.j41(11,"div",11)(12,"div",12),n.DNE(13,D,7,4,"div",10),n.nI1(14,"async"),n.k0s(),n.j41(15,"div",12)(16,"div",13),n.nrm(17,"app-loot-feed",14),n.nI1(18,"async"),n.k0s()()()()()),2&t){const e=s.ngIf,o=n.XpG();n.R7$(5),n.Y8G("href","https://www.wowhead.com/cata/zone="+e.zoneId,n.B4B)("appWowheadTooltip",e),n.R7$(),n.SpI("",e.name," "),n.R7$(),n.Y8G("icon",o.faExternalLinkAlt),n.R7$(2),n.Y8G("ngIf",n.bMT(10,8,o.zoneItemSources$).length>1),n.R7$(4),n.Y8G("ngIf",n.bMT(14,10,o.chosenSource$)),n.R7$(4),n.Y8G("zone",e)("source",n.bMT(18,12,o.chosenSource$))}}function A(t,s){1&t&&(n.j41(0,"h1",6),n.EFF(1,"Zone not found"),n.k0s())}const O=[{path:":slug",component:(()=>{class t{constructor(e,o,c,m,J){this.router=e,this.route=o,this.itemService=c,this.zoneService=m,this.lootListFacade=J,this.faExternalLinkAlt=p.AaJ,this.faExclamationTriangle=p.zpE,this.zone$=this.route.params.pipe((0,r.T)(a=>a.slug),(0,r.T)(a=>this.zoneService.getZone(a))),this.allSource="All",this.zoneItemSources$=this.zone$.pipe((0,u.p)(a=>!!a),(0,r.T)(a=>a.itemSources.length>1?[this.allSource,...a.itemSources]:[...a.itemSources])),this._chosenSource$=new I.t(this.allSource),this.chosenSource$=(0,T.zV)([this.zoneItemSources$,this.route.queryParams]).pipe((0,S.M)(([a,F])=>{let $=this.allSource;F.boss&&($=a.find(H=>H===F.boss)),this._chosenSource$.next($||a[0])}),(0,h.n)(()=>this._chosenSource$.asObservable()))}ngOnInit(){}sourceChosen(e){this._chosenSource$.next(e),this.router.navigate([],{relativeTo:this.route,queryParams:{boss:e},queryParamsHandling:"merge"})}getSourceLoot(e){return this.zone$.pipe((0,h.n)(o=>this.itemService.getBySource(o,e)),(0,r.T)(o=>(0,_.A)(o,"id")))}getNextRecipient(e){return this.lootListFacade.getRankedLootGroups(e.id).pipe((0,E.$)(),(0,r.T)(o=>o.length?o[0]:null),(0,u.p)(o=>null!==o),(0,r.T)(o=>o.rankings.length?o.rankings:null))}noneListed(e){return e&&e.every(o=>"Unlisted"===o.item.pivot.note)}static#n=this.\u0275fac=function(o){return new(o||t)(n.rXU(l.Ix),n.rXU(l.nX),n.rXU(R.b),n.rXU(G.U),n.rXU(y.k))};static#t=this.\u0275cmp=n.VBU({type:t,selectors:[["app-zone-page"]],decls:4,vars:4,consts:[["notFound",""],["noRankings",""],[4,"ngIf","ngIfElse"],[1,"hero","is-small","is-black"],[1,"hero-body"],[1,"container"],[1,"title"],["title","Open Wowhead","target","_blank",3,"href","appWowheadTooltip"],[3,"icon"],[1,"section"],["class","box",4,"ngIf"],[1,"columns"],[1,"column"],[1,"box"],[3,"zone","source"],["class","tags",4,"ngIf"],[1,"tags"],["class","tag is-black is-medium",3,"is-primary","click",4,"ngFor","ngForOf"],[1,"tag","is-black","is-medium",3,"click"],["class","media",4,"ngFor","ngForOf"],[1,"media"],[1,"media-content"],[1,"content"],[3,"appWowheadTooltip","routerLink"],["class","is-size-6 has-text-warning",4,"ngIf"],[1,"tags","pt-1"],["class","tag is-black",4,"ngFor","ngForOf"],[1,"is-size-6","has-text-warning"],["title","All of these raiders did not list the item, but are still eligible."],[1,"tag","is-black"],[3,"routerLink"]],template:function(o,c){if(1&o&&(n.DNE(0,b,19,14,"div",2),n.nI1(1,"async"),n.DNE(2,A,2,0,"ng-template",null,0,n.C5r)),2&o){const m=n.sdS(3);n.Y8G("ngIf",n.bMT(1,2,c.zone$))("ngIfElse",m)}},dependencies:[d.Sq,d.bT,f.aY,l.Wk,x.e,C.a,d.Jj],changeDetection:0})}return t})()}];let U=(()=>{class t{static#n=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275mod=n.$C({type:t});static#e=this.\u0275inj=n.G2t({imports:[l.iI.forChild(O),l.iI]})}return t})();var B=i(787),V=i(2734),v=i(8326);let W=(()=>{class t{static#n=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275mod=n.$C({type:t});static#e=this.\u0275inj=n.G2t({imports:[d.MD,v.YN,v.X1,f.dX,V.MQ,U,B.u]})}return t})()}}]);